{"version":3,"sources":["webpack:///./~/element-ui/lib/theme-default/index.css?9c8e","webpack:///./src/App.vue?fc6a","webpack:///App.vue","webpack:///Config.vue","webpack:///Home.vue","webpack:///Tab.vue","webpack:///./src/components/pages/Home.vue?4c37","webpack:///./src/App.vue?828a","webpack:///./src/components/pages/Config.vue","webpack:///./src/components/pages/Home.vue?0652","webpack:///./src/components/pages/Tab.vue","webpack:///./src/components/pages/Config.vue?b597","webpack:///./src/components/pages/Home.vue?9456","webpack:///./src/App.vue?40c8","webpack:///./src/components/pages/Tab.vue?512e","webpack:///got (ignored)","webpack:///./src/main.js"],"names":["Vue","use","eventHub","el","template","components","data"],"mappings":";;;;;AAAA,yC;;;;;;;;ACCA;AACA,sBAA6F;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;QAEA;;AAEA;AACA;AACA;AAEA;AALA;AAFA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGA;SAEA;;cAEA;qBAEA;AAHA;AAIA;;gBAEA;kBACA;6CACA;4BACA;AACA;AACA;mBACA;kBACA;6DACA;0DACA;uDACA;AACA;AAEA;AAdA;uBAeA;SACA;AACA;uBACA;gBACA;iEACA;kBACA;YACA;AACA;AACA;AA/BA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+DA;;AAEA;QAEA;SACA;;gBAEA;;kBAEA;eAEA;AAHA;iBAIA;2BACA;kBACA;iBACA;gBACA;gBACA;wBACA;oBACA;mBAEA;AAfA;AAgBA;;6BAEA;+DACA;uDACA;AAEA;AALA;;WAOA;AACA;yCACA;kBACA;yCACA;mCACA;6CACA;0DAEA;;uDACA;oCACA;yCACA;AACA;wDACA;4CACA;+DACA;4BACA;8CACA;yDACA;uCACA;8BACA;AACA;eACA;sDACA;yBACA;AACA;AACA;AACA;+BACA;iCACA;4BACA;yBACA;oCACA;AACA;aACA;0BACA;8BACA;qDACA;sCACA;oCACA;sDACA;AAEA;;kBACA;iDACA;mDACA;sCACA;6BACA;wCACA;sCACA;2BACA;AAEA;;4BACA;oDACA;AACA;4CACA;0DACA;oEACA;yEACA;iDAEA;;+EACA;wDACA;AACA;AACA;AACA;AAEA;;oDACA;AACA;sCACA;AACA;AACA;AACA;6BACA;gDACA;AACA;AACA;2BACA;2BAEA;;0BACA;oEACA;gCACA;4CACA;oBACA;yCACA;uCACA;wCACA;2CACA;AACA;4CACA;oBACA;aACA;AACA;AACA;AACA;kBACA;oDACA;wBACA;kCACA;sDACA;eACA;AACA;oCACA;yCACA;2CACA;yCACA;AACA;AACA;AACA;AACA;gBACA;qGACA;uBACA;wBACA;SAEA;;kBACA;2CACA;qDACA;sEACA;2CACA;6DACA;2CACA;gCACA;eACA;2BACA;AACA;0BACA;0BACA;wBACA;2CACA;AACA;AACA;oBACA;0BACA;wCACA;iDACA;sBACA;AACA;uDACA;AACA;oCACA;uCACA;AACA;AACA;yBACA;aACA;0BACA;AACA;AACA;kBACA;kBACA;wBACA;8BACA;AACA;iBACA;8BACA;AACA;oCACA;+DACA;uCACA;kDACA;+BACA;sDACA;AACA;AACA;AAEA;AA3KA;uBA4KA;SACA;AACA;uBACA;gBACA;+DACA;kBACA;YACA;AACA;AACA;AA/MA,E;;;;;;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;;YAGA;cAEA;AAHA;SAIA;;kBAGA;AAFA;AAGA;;4BAEA,CAEA;AAHA;uBAIA;wDACA;wBACA;sCACA;AACA;AACA;6BACA;mCACA;mCACA;AACA;AAvBA,E;;;;;;;ACfA,yC;;;;;;;ACAA,yC;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACVA;AACA,sBAAmG;;AAEnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACtGD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;AClMD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACND,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACvBD,e;;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;;CAEuC;;AAEvC,2CAAAA,CAAIC,GAAJ,CAAQ,kDAAR;AACA,2CAAAD,CAAIC,GAAJ,CAAQ,oDAAR;;AAEA,IAAIC,WAAW,IAAI,2CAAJ,EAAf;AACA;AACA,IAAI,2CAAJ,CAAQ;AACNC,MAAI,MADE;AAENC,YAAU,QAFJ;AAGN;AACAC,cAAY,EAAE,iDAAF,EAJN;AAKNC,SAAQ;AACN,WAAO;AACLJ;AADK,KAAP;AAGD;AATK,CAAR,E","file":"static/js/app.ec3933c49eb3bf3d6f86.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/element-ui/lib/theme-default/index.css\n// module id = 24\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-8399f25c!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-8399f25c!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 25\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <!--<img src=\"./assets/logo.png\">-->\n    <!--<hello></hello>-->\n    <!--<home></home>-->\n    <!--<detail></detail>-->\n    <tab></tab>\n  </div>\n</template>\n\n<script>\n// import Hello from './components/Hello'\n// import Home from './components/pages/Home'\n// import Detail from './components/pages/DetailDialog'\nimport Tab from './components/pages/Tab'\n\nexport default {\n  name: 'app',\n  components: {\n    // Hello\n    // Home\n    // detail: Detail\n    Tab\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?3de08cd4","<template>\n  <el-row :gutter=\"20\">\n    <el-col :xs=\"20\" :sm=\"16\" :md=\"14\" :lg=\"12\">\n      <el-form :label-position=\"labelPosition\" label-width=\"80px\" >\n        <el-form-item label=\"URL\">\n          <el-input :value=\"config.url\" v-model=\"config.url\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB\"><el-input type=\"number\" :value=\"config.db\" v-model.number=\"config.db\"></el-input></el-form-item>\n        <el-form-item label=\"Password\"><el-input :value=\"config.password\" v-model=\"config.password\"></el-input></el-form-item>\n        <el-form-item label=\"Timeout\"><el-input type=\"number\" :value=\"config.timeout\" v-model.number=\"config.timeout\"></el-input></el-form-item>\n        <el-form-item label=\"Seperator\"><el-input :value=\"config.seperator\" v-model=\"config.seperator\"></el-input></el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"updateConfig\">更新</el-button>\n        </el-form-item>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      config: {},\n      labelPosition: 'left'\n    }\n  },\n  methods: {\n    getConfig () {\n      let _this = this\n      this.$http.get('/config').then(resp => {\n        _this.config = resp.body\n      })\n    },\n    updateConfig () {\n      let _this = this\n      _this.$http.post('/config', _this.config).then(resp => {\n        _this.$message({message: 'config changed', type: 'warning'})\n        _this.$root.$data.eventHub.$emit('tab-change', 'first')\n      })\n    }\n  },\n  mounted: function () {\n    this.getConfig()\n  },\n  created: function () {\n    let _this = this\n    _this.$root.$data.eventHub.$on('config-refresh', function () {\n      console.log('home-refresh event .... ')\n      _this.getConfig()\n    })\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Config.vue?631aea8b","<template><div>\n  <el-row :gutter=\"23\">\n    <el-col :span=\"6\">\n      <!-- all keys -->\n      <div class=\"grid-content bg-purple\">\n        <el-tree :data=\"treeData\" :props=\"treeProps\" @node-click=\"nodeClick\"></el-tree>\n      </div>\n    </el-col>\n    <el-col :span=\"16\">\n      <!-- detail table info -->\n      <div class=\"grid-content bg-purple\">\n        <el-row>\n          <el-form :inline=\"true\" id=\"home-form\" @submit.native.prevent>\n            <el-form-item>\n              <el-input type=\"text\" placeholder=\"命令\" v-model=\"redisLine\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"exec\" :disabled=\"!redisLine\">执行</el-button>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"fetchData\" >刷新</el-button>\n            </el-form-item>\n          </el-form>\n        </el-row>\n\n        <el-row>\n          <el-table :data=\"tableData\" border style=\"width: 100%\">\n              <el-table-column\n                label=\"key\"\n              >\n                <template scope=\"scope\">\n                  <p> {{scope.row.key.fullName}}</p>\n                </template>\n              </el-table-column>\n              <el-table-column\n                label=\"value\"\n              >\n                <template scope=\"scope\">\n                     <p v-if=\"scope.row.key && scope.row.key.type ==='string'\" >{{scope.row.key.values[0].score}}</p>\n                     <p v-else >Object</p>\n                </template>\n              </el-table-column>\n              <el-table-column\n                label=\"type\"\n              >\n                <template scope=\"scope\">\n                  <p v-if=\"scope.row.key\">{{scope.row.key.type}}</p>\n                  <p v-else>--</p>\n                </template>\n              </el-table-column>\n              <el-table-column label=\"操作\">\n                <template scope=\"scope\">\n                  <el-button\n                    size=\"small\"\n                    @click=\"showDetailDialog(scope.row, scope.$index)\"\n                  >详细</el-button>\n                </template>\n              </el-table-column>\n          </el-table>\n        </el-row>\n      </div>\n    </el-col>\n  </el-row>\n  <el-dialog id=\"detail-dialog\" v-model=\"detailDialogVisible\" :title=\"dialogTitle\" @close=\"dialogClose\" @open=\"dialogOpen\">\n  <div id=\"home-dialog-form-label\"> <p id=\"field-label\" >field</p><p id=\"value-label\">value</p></div>\n  <el-form :inline=\"true\" class=\"demo-form-inline\" :model=\"detailInfo\">\n    <div v-for=\"(value,idx) in detailInfo.values\" :key=\"value\">\n    <el-form-item >\n      <el-input v-if=\"value.field\" :value=\"value.field\" @change=\"modify(idx, 1, $event)\"></el-input>\n      <el-input v-else value=\"--\" v-model=\"value.field\" :disabled=\"true\" ></el-input>\n    </el-form-item>\n    <el-form-item >\n      <el-input :value=\"value.score\" v-on:change=\"modify(idx, 2, $event)\"></el-input>\n    </el-form-item>\n    <el-form-item >\n      <el-button @click=\"del(idx, 1)\">删除</el-button>\n    </el-form-item>\n    </div>\n    <el-form-item v-if=\"detailInfo.type !='string'\"><el-button @click=\"del\">全部删除</el-button> </el-form-item>\n  </el-form>\n</el-dialog>\n</div></template>\n\n<script >\nimport { Loading } from 'element-ui'\n\nexport default {\n  name: 'home',\n  data () {\n    return {\n      treeData: [],\n      treeProps: {\n        children: 'children',\n        label: 'displayName'\n      },\n      tableData: [],\n      detailDialogVisible: false,\n      detailInfo: {},\n      redisLine: '',\n      oldField: '',\n      oldValue: '',\n      dialogOpenStatus: false,\n      selectedNode: null,\n      detailIndex: 0\n    }\n  },\n  computed: {\n    dialogTitle: function () {\n      let type = this.detailInfo.type ? this.detailInfo.type : '-'\n      return this.detailInfo.fullName + '  [' + type + ']'\n    }\n  },\n  methods: {\n    exec () {\n      // this.$message('exec ... ' + this.redisLine)\n      console.log('redis line >> ', this.redisLine)\n      let _this = this\n      let splits = _this.redisLine.split(' ')\n      let redisCmd = {cmd: splits[0]}\n      redisCmd.key = splits[1] ? splits[1] : null\n      redisCmd.args = splits.slice(2) ? splits.slice(2) : null\n\n      _this.$http.post('/exec', redisCmd).then(resp => {\n        let lowerCmd = redisCmd.cmd.toLowerCase()\n        if (lowerCmd.includes('select')) {\n          // modify db setting\n          _this.$message({message: 'db changed', type: 'warning'})\n          console.log('resp after select ', resp)\n          _this.treeData = resp.body.nodes ? resp.body.nodes : []\n          _this.tableData = []\n        } else if (lowerCmd.includes('keys')) {\n          if (resp.body.nodes && resp.body.nodes.length) {\n            _this.treeData = resp.body.nodes\n            _this.tableData = []\n          }\n        } else {\n          let msg = resp.body.info ? resp.body.info : 'done'\n          _this.$message(msg)\n        }\n      })\n    },\n    showDetailDialog (row, ctx) {\n      this.detailDialogVisible = true\n      this.detailInfo = row.key\n      this.detailIndex = ctx\n      console.log('ctx .... ', this.detailInfo)\n    },\n    del (idx) {\n      let redisKey = this.detailInfo\n      console.log('redisKey', redisKey)\n      let req = {type: redisKey.type, key: redisKey.fullName}\n      if (redisKey.values.length > 1) {\n        let value = redisKey.values[idx]\n        req.field = value.field ? value.field : value.score\n      }\n\n      let _this = this\n      _this.$http.post('/del', req).then(resp => {\n        _this.$message({message: 'deleted', type: 'info'})\n        console.log('after delete  ', redisKey)\n        let removeFromTree = true\n        if (redisKey.values.length > 1) {\n          redisKey.values.splice(idx, 1)\n          removeFromTree = false\n        }\n\n        if (removeFromTree) {\n          _this.tableData.splice(_this.detailIndex, 1)\n          // console.log('_this.tableData ', _this.tableData, _this.selectedNode)\n          if (_this.tableData.length === 0) {\n            let removeNode = function (node, displayName) {\n              for (let i = 0; i < node.parent.children.length; i++) {\n                if (node.parent.children[i].displayName === displayName) {\n                  node.parent.children.splice(i, 1)\n\n                  if (node.parent.children.length === 0 && node.parent.parent) {\n                    removeNode(node.parent, node.parent.displayName)\n                  }\n                }\n              }\n            }\n\n            removeNode(_this.selectedNode, redisKey.displayName)\n          }\n          _this.detailDialogVisible = false\n        }\n      })\n    },\n    modify (idx, ope, newVal) {\n      if (!this.detailDialogVisible || !newVal) {\n        return\n      }\n      const RENAME_FIELD = 1\n      const MODIFY_VALUE = 2\n\n      let redisKey = this.detailInfo\n      let req = {key: redisKey.fullName, type: redisKey.type, ope: ope}\n      if (ope === RENAME_FIELD) {\n        req.oldField = redisKey.values[idx].field\n        req.field = newVal\n        req.value = redisKey.values[idx].score\n      } else if (ope === MODIFY_VALUE) {\n        if (redisKey.values[idx].field) {\n          req.field = redisKey.values[idx].field\n        }\n        req.oldValue = redisKey.values[idx].score\n        req.value = newVal\n      } else {\n        return\n      }\n      // console.log('modify req > ', req)\n      let _this = this\n      _this.$http.post('/modify', req).then(resp => {\n        if (resp.error) {\n          console.log('err', resp.error)\n          _this.$message({message: resp.error, type: 'error'})\n        } else {\n          // _this.$message({message: 'updated', type: 'info'})\n          if (ope === RENAME_FIELD) {\n            redisKey.values[idx].field = newVal\n          } else if (ope === MODIFY_VALUE) {\n            redisKey.values[idx].score = newVal\n          }\n        }\n      })\n    },\n    fetchData () {\n      let loadingInstance = Loading.service({ body: this.loading })\n      setTimeout(() => {\n        loadingInstance.close()\n      }, 3000)\n\n      let _this = this\n      _this.$http.get('/all').then(resp => {\n        console.log('resp in fetchData ....  ', resp.body)\n        console.log(' nedd ... addNodeParent', (resp.body && resp.body.length))\n        if (resp.body && resp.body.length) {\n          let parent = {displayName: 'root', children: resp.body}\n          _this.addNodeParent(parent, resp.body)\n          _this.treeData = resp.body\n        } else {\n          _this.treeData = []\n        }\n        _this.redisLine = ''\n        _this.tableData = []\n        loadingInstance.close()\n        console.log('treeData ... ', _this.treeData)\n      })\n    },\n    nodeClick (node) {\n      this.selectedNode = node\n      console.log('selectedNode .... ', node)\n      if (node.children && node.children.length) {\n        let newNode = []\n        // filter empty value\n        for (let i = 0; i < node.children.length; i++) {\n          // console.log('node clicked ... ', node.children[i])\n          if (node.children[i].key) {\n            newNode.push(node.children[i])\n          }\n        }\n        this.tableData = newNode\n      } else {\n        this.tableData = [node]\n      }\n    },\n    dialogClose () {\n      console.log('dialogClose ..... ')\n      this.detailInfo = {}\n      this.dialogOpenStatus = false\n    },\n    dialogOpen () {\n      this.dialogOpenStatus = true\n    },\n    addNodeParent (parent, children) {\n      console.log('addNodeParent , ', parent, ' children .. ', children)\n      if (children && children.length) {\n        for (let i = 0; i < children.length; i++) {\n          children[i].parent = parent\n          this.addNodeParent(children[i], children[i].children)\n        }\n      }\n    }\n  },\n  mounted: function () {\n    this.fetchData()\n  },\n  created: function () {\n    let _this = this\n    _this.$root.$data.eventHub.$on('home-refresh', function () {\n      console.log('home-refresh event .... ')\n      _this.fetchData()\n    })\n  }\n}\n\n</script>\n\n<style>\n  .el-row {\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n  .bg-purple-dark {\n    background: #99a9bf;\n  }\n  .bg-purple {\n    background: #d3dce6;\n  }\n  .bg-purple-light {\n    background: #e5e9f2;\n  }\n  .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n  }\n  .row-bg {\n    padding: 10px 0;\n    background-color: #f9fafc;\n  }\n  #home-form {\n    text-align: left;\n    height: 15px;\n    margin-bottom: 0px;\n  }\n\n  #field-label {\n    position: absolute;\n    left: 101px;\n    top: 38px;\n  }\n  #value-label {\n    position: absolute;\n    left: 284px;\n    top: 38px;\n  }\n  #home-dialog-form-label p {\n    display: inline;\n    margin-bottom: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Home.vue?06e9cf88","<template>\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n    <el-tab-pane label=\"主页\" name=\"first\">\n      <home></home>\n    </el-tab-pane>\n    <el-tab-pane label=\"配置管理\" name=\"second\">\n      <config></config>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n<script>\nimport Home from './Home'\nimport Config from './Config'\n// import eventHub from '../../event/eventhub.js'\nexport default {\n  components: {\n    'home': Home,\n    'config': Config\n  },\n  data () {\n    return {\n      activeName: 'first'\n    }\n  },\n  methods: {\n    handleClick (tab, event) {\n    }\n  },\n  created: function () {\n    this.$root.$data.eventHub.$on('tab-change', name => {\n      this.activeName = name\n      this.$root.$data.eventHub.$emit('home-refresh')\n    })\n  },\n  beforeDestroy: function () {\n    this.$root.$data.eventHub.$off('home-refresh')\n    this.$root.$data.eventHub.$off('tab-change')\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Tab.vue?84c5302e","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-492cfed8!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/pages/Home.vue\n// module id = 70\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-8399f25c!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 71\n// module chunks = 1","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Config.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-3bc31b92!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Config.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Config.vue\n// module id = 72\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-492cfed8!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-492cfed8!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Home.vue\n// module id = 73\n// module chunks = 1","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tab.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-dadb9120!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tab.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Tab.vue\n// module id = 74\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"xs\": 20,\n      \"sm\": 16,\n      \"md\": 14,\n      \"lg\": 12\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"label-position\": _vm.labelPosition,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"URL\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"value\": _vm.config.url\n    },\n    model: {\n      value: (_vm.config.url),\n      callback: function($$v) {\n        _vm.config.url = $$v\n      },\n      expression: \"config.url\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"DB\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"number\",\n      \"value\": _vm.config.db\n    },\n    model: {\n      value: (_vm.config.db),\n      callback: function($$v) {\n        _vm.config.db = _vm._n($$v)\n      },\n      expression: \"config.db\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"Password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"value\": _vm.config.password\n    },\n    model: {\n      value: (_vm.config.password),\n      callback: function($$v) {\n        _vm.config.password = $$v\n      },\n      expression: \"config.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"Timeout\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"number\",\n      \"value\": _vm.config.timeout\n    },\n    model: {\n      value: (_vm.config.timeout),\n      callback: function($$v) {\n        _vm.config.timeout = _vm._n($$v)\n      },\n      expression: \"config.timeout\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"Seperator\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"value\": _vm.config.seperator\n    },\n    model: {\n      value: (_vm.config.seperator),\n      callback: function($$v) {\n        _vm.config.seperator = $$v\n      },\n      expression: \"config.seperator\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.updateConfig\n    }\n  }, [_vm._v(\"更新\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3bc31b92!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Config.vue\n// module id = 75\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-row', {\n    attrs: {\n      \"gutter\": 23\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-tree', {\n    attrs: {\n      \"data\": _vm.treeData,\n      \"props\": _vm.treeProps\n    },\n    on: {\n      \"node-click\": _vm.nodeClick\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 16\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-row', [_c('el-form', {\n    attrs: {\n      \"inline\": true,\n      \"id\": \"home-form\"\n    },\n    nativeOn: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n      }\n    }\n  }, [_c('el-form-item', [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"命令\"\n    },\n    model: {\n      value: (_vm.redisLine),\n      callback: function($$v) {\n        _vm.redisLine = $$v\n      },\n      expression: \"redisLine\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": !_vm.redisLine\n    },\n    on: {\n      \"click\": _vm.exec\n    }\n  }, [_vm._v(\"执行\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fetchData\n    }\n  }, [_vm._v(\"刷新\")])], 1)], 1)], 1), _vm._v(\" \"), _c('el-row', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"label\": \"key\"\n    },\n    scopedSlots: _vm._u([\n      [\"default\", function(scope) {\n        return [_c('p', [_vm._v(\" \" + _vm._s(scope.row.key.fullName))])]\n      }]\n    ])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"value\"\n    },\n    scopedSlots: _vm._u([\n      [\"default\", function(scope) {\n        return [(scope.row.key && scope.row.key.type === 'string') ? _c('p', [_vm._v(_vm._s(scope.row.key.values[0].score))]) : _c('p', [_vm._v(\"Object\")])]\n      }]\n    ])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"type\"\n    },\n    scopedSlots: _vm._u([\n      [\"default\", function(scope) {\n        return [(scope.row.key) ? _c('p', [_vm._v(_vm._s(scope.row.key.type))]) : _c('p', [_vm._v(\"--\")])]\n      }]\n    ])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([\n      [\"default\", function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showDetailDialog(scope.row, scope.$index)\n            }\n          }\n        }, [_vm._v(\"详细\")])]\n      }]\n    ])\n  })], 1)], 1)], 1)])], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"id\": \"detail-dialog\",\n      \"title\": _vm.dialogTitle\n    },\n    on: {\n      \"close\": _vm.dialogClose,\n      \"open\": _vm.dialogOpen\n    },\n    model: {\n      value: (_vm.detailDialogVisible),\n      callback: function($$v) {\n        _vm.detailDialogVisible = $$v\n      },\n      expression: \"detailDialogVisible\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"home-dialog-form-label\"\n    }\n  }, [_c('p', {\n    attrs: {\n      \"id\": \"field-label\"\n    }\n  }, [_vm._v(\"field\")]), _c('p', {\n    attrs: {\n      \"id\": \"value-label\"\n    }\n  }, [_vm._v(\"value\")])]), _vm._v(\" \"), _c('el-form', {\n    staticClass: \"demo-form-inline\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.detailInfo\n    }\n  }, [_vm._l((_vm.detailInfo.values), function(value, idx) {\n    return _c('div', {\n      key: value\n    }, [_c('el-form-item', [(value.field) ? _c('el-input', {\n      attrs: {\n        \"value\": value.field\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.modify(idx, 1, $event)\n        }\n      }\n    }) : _c('el-input', {\n      attrs: {\n        \"value\": \"--\",\n        \"disabled\": true\n      },\n      model: {\n        value: (value.field),\n        callback: function($$v) {\n          value.field = $$v\n        },\n        expression: \"value.field\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-input', {\n      attrs: {\n        \"value\": value.score\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.modify(idx, 2, $event)\n        }\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n      on: {\n        \"click\": function($event) {\n          _vm.del(idx, 1)\n        }\n      }\n    }, [_vm._v(\"删除\")])], 1)], 1)\n  }), _vm._v(\" \"), (_vm.detailInfo.type != 'string') ? _c('el-form-item', [_c('el-button', {\n    on: {\n      \"click\": _vm.del\n    }\n  }, [_vm._v(\"全部删除\")])], 1) : _vm._e()], 2)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-492cfed8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Home.vue\n// module id = 76\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('tab')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-8399f25c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 77\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-tabs', {\n    on: {\n      \"tab-click\": _vm.handleClick\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"label\": \"主页\",\n      \"name\": \"first\"\n    }\n  }, [_c('home')], 1), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"label\": \"配置管理\",\n      \"name\": \"second\"\n    }\n  }, [_c('config')], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-dadb9120!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Tab.vue\n// module id = 78\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// got (ignored)\n// module id = 81\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-default/index.css'\n\nimport VueResource from 'vue-resource' // handle http\n\nVue.use(ElementUI)\nVue.use(VueResource)\n\nlet eventHub = new Vue()\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  // render: h => h(App),\n  components: { App },\n  data () {\n    return {\n      eventHub\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}